<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5.Window-clockQuiz</title>
    <style>
        .bg-img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            animation: fadeIn .5s linear;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .clock h1 {
            color: white;
            font-size: 5em;
        }
    </style>
</head>

<body>
    <div class="clock">
        <h1>00:00:00</h1>
    </div>


    <script>
        
        function createTime() {
            //date객체를활용하여 날자정보 얻은후 화면에 보여진 시계형식에 맞게 값을 얻어 텍스트형식으로 표기
            const $clock = document.querySelector('.clock');
            let date = new Date();
            let hour = date.getHours();
            if (hour < 10) {
                hour = '0' + hour;
            }
            let minute = date.getMinutes();
            if (minute < 10) {
                minute = '0' + minute;
            }
            let second = date.getSeconds();
            if (second < 10) {
                second = '0' + second;
            }
            $clock.children[0].textContent = `${hour}:${minute}:${second}`;
        }

        let i = 1;
        function changeBackground() {
            //img요소 생성 이미지 순서대로 넣기
            //인터벌 함수로 10초마다 반복
            const $img = document.createElement('img');
            // const $bg = document.querySelector('.bg-img');
            document.body.appendChild($img);
            $img.setAttribute('src', `./img/${i}.jpg`);
            $img.classList.toggle('bg-img');
            //console.log($img.setAttribute('src', `./img/${i}.jpg`));
            i++;
            if( i === 7){
                i = 1;
                location.reload();
            }
        }

        (function () {
            createTime();
            setInterval(createTime, 1000);
            changeBackground();
            setInterval(changeBackground, 2000);
        })();
    </script>
</body>

</html>